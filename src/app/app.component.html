<div class="app-container">
  <!-- Pantalla de bienvenida -->
  <div class="welcome-screen" *ngIf="!mostrarFormulario && !mostrarGoogleForm && !mostrarWhatsApp">
    <!-- Enhanced decorative elements with better positioning and more icons -->
    <div class="decorative-elements">
      <div class="rocket-icon top-right">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2.69l5.66 5.66a8 8 0 11-11.31 0z"/>
        </svg>
      </div>
      <div class="plus-icon top-left">+</div>
      <div class="plus-icon middle-right">+</div>
      <div class="plus-icon bottom-center">+</div>
      <div class="planet-icon bottom-left">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <circle cx="12" cy="12" r="10"/>
          <ellipse cx="12" cy="12" rx="16" ry="4" fill="none" stroke="currentColor" stroke-width="2"/>
        </svg>
      </div>
      <div class="star-icon top-center">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
        </svg>
      </div>
    </div>

    <div class="hero-section">
      <!-- Imagen principal en círculo -->
      <div class="hero-image-container">
        <img
          src="https://img.freepik.com/foto-gratis/ninos-jugando-cesped_1098-504.jpg?semt=ais_hybrid&w=740&q=80"
          alt="Niños felices"
          class="hero-image"
        />
      </div>

      <div class="hero-content">
        <div class="support-badge">
          <svg class="badge-icon" viewBox="0 0 24 24">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
          </svg>
          <span>Espacio Seguro y Confidencial</span>
        </div>

        <h1 class="main-title">
          Gritemos Ayuda
          <span class="subtitle">Un Espacio Seguro para Ti</span>
        </h1>

        <p class="main-description">
          Un espacio <strong>seguro y confidencial</strong> donde puedes pedir
          ayuda cuando la necesitas. Buscar apoyo es un acto de valentía y
          fortaleza.
        </p>

        <button class="primary-button" (click)="mostrarFormulario = true">
          <svg class="button-icon" viewBox="0 0 24 24">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
          Solicitar Ayuda Ahora
        </button>

        <div class="trust-message">
          <svg class="trust-icon" viewBox="0 0 24 24">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
          </svg>
          <span>Tu bienestar es nuestra prioridad. Estamos aquí para escucharte y apoyarte.</span>
        </div>
      </div>
    </div>

    <!-- Features section -->
    <div class="features-section">
      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
          </svg>
        </div>
        <h3>Confidencial</h3>
        <p>Tu información está completamente protegida y segura</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
        </div>
        <h3>Apoyo Profesional</h3>
        <p>Profesionales capacitados listos para ayudarte</p>
      </div>

      <div class="feature-card">
        <div class="feature-icon">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
          </svg>
        </div>
        <h3>Disponible 24/7</h3>
        <p>Estamos aquí cuando nos necesites, cualquier momento</p>
      </div>
    </div>
  </div>

  <!-- Pantalla formulario -->
  <div class="form-screen" *ngIf="mostrarFormulario && !mostrarGoogleForm && !mostrarWhatsApp">
    <div class="form-container">
      <div class="form-header">
        <h2 class="form-title">
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
          </svg>
          Información Personal
        </h2>
        <p class="form-subtitle">
          Tus datos están protegidos y serán tratados con total confidencialidad
        </p>
      </div>

      <form class="user-form">
        <div class="form-row">
          <div class="form-group">
            <label for="nombre" class="form-label">
              <svg class="label-icon" viewBox="0 0 24 24">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4z"/>
              </svg>
              Nombre
            </label>
            <input
              type="text"
              id="nombre"
              name="nombre"
              class="form-input"
              [(ngModel)]="datosUsuario.nombre"
              placeholder="Ingresa tu nombre"
              required
            />
          </div>

          <div class="form-group">
            <label for="apellidos" class="form-label">
              <svg class="label-icon" viewBox="0 0 24 24">
                <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A2.996 2.996 0 0 0 17.06 6c-.8 0-1.54.5-1.85 1.26l-1.92 5.77c-.24.74.18 1.54.92 1.78.74.24 1.54-.18 1.78-.92L16.5 12H18v10h2zM12.5 11.5c.83 0 1.5-.67 1.5-1.5s-.67-1.5-1.5-1.5S11 9.17 11 10s.67 1.5 1.5 1.5zM5.5 6c1.11 0 2-.89 2-2s-.89-2-2-2-2 .89-2 2zm1.5 16v-6H9l-1.5-4.5c-.31-.93-1.31-1.5-2.25-1.5S3.56 10.57 3.25 11.5L1.75 16H4v6h3z"/>
              </svg>
              Apellidos
            </label>
            <input
              type="text"
              id="apellidos"
              name="apellidos"
              class="form-input"
              [(ngModel)]="datosUsuario.apellidos"
              placeholder="Ingresa tus apellidos"
              required
            />
          </div>
        </div>

        <div class="form-row">
          <div class="form-group">
            <label for="edad" class="form-label">
              <svg class="label-icon" viewBox="0 0 24 24">
                <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z"/>
              </svg>
              Edad
            </label>
            <input
              type="number"
              id="edad"
              name="edad"
              class="form-input"
              [(ngModel)]="datosUsuario.edad"
              placeholder="¿Cuántos años tienes?"
              min="5"
              max="18"
              required
            />
          </div>

          <div class="form-group">
            <label for="grado" class="form-label">
              <svg class="label-icon" viewBox="0 0 24 24">
                <path d="M5 13.18v4L12 21l7-3.82v-4L12 17l-7-3.82zM12 3L1 9l11 6 9-4.91V17h2V9L12 3z"/>
              </svg>
              Grado Escolar
            </label>
            <select
              id="grado"
              name="grado"
              class="form-select"
              [(ngModel)]="datosUsuario.grado"
              required
            >
              <option value="">Selecciona tu grado</option>
              <option value="primaria-1">1° Primaria</option>
              <option value="primaria-2">2° Primaria</option>
              <option value="primaria-3">3° Primaria</option>
              <option value="primaria-4">4° Primaria</option>
              <option value="primaria-5">5° Primaria</option>
              <option value="primaria-6">6° Primaria</option>
              <option value="secundaria-1">1° Secundaria</option>
              <option value="secundaria-2">2° Secundaria</option>
              <option value="secundaria-3">3° Secundaria</option>
            </select>
          </div>
        </div>

        <div class="form-actions">
          <button type="button" class="secondary-button" (click)="volverInicio()">
            <svg class="button-icon" viewBox="0 0 24 24">
              <path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41z"/>
            </svg>
            Volver
          </button>

          <button
            type="button"
            class="primary-button"
            (click)="abrirFormulario()"
          >
            <svg class="button-icon" viewBox="0 0 24 24">
              <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
            </svg>
            Continuar
          </button>
        </div>
      </form>
    </div>
  </div>

  <!-- Pantalla Google Form -->
  <div class="google-form-screen" *ngIf="mostrarGoogleForm && !mostrarWhatsApp">
    <div class="form-header-bar">
      <div class="header-content">
        <h3 class="header-title">
          <svg class="icon" viewBox="0 0 24 24">
            <path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/>
          </svg>
          Formulario de Ayuda Confidencial
        </h3>
        <p class="header-subtitle">
          Comparte tu situación de forma segura. Tu privacidad está protegida.
        </p>
      </div>
    </div>

    <div class="iframe-container">
      <iframe
        src="https://docs.google.com/forms/d/e/1FAIpQLSce6n9h5aeQ0co5cRW4o75pqtM6TGBp67tIClI6twBQa-Ekng/viewform?embedded=true"
        class="google-iframe"
      >
        Cargando formulario...
      </iframe>
    </div>

    <div class="form-footer">
      <button type="button" class="secondary-button" (click)="volverInicio()">
        <svg class="button-icon" viewBox="0 0 24 24">
          <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
        </svg>
        Volver al Inicio
      </button>
      <!-- Added button to proceed to WhatsApp contacts -->
      <button type="button" class="primary-button" (click)="finalizarEncuesta()">
        <svg class="button-icon" viewBox="0 0 24 24">
          <path d="M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"/>
        </svg>
        Contactar Ayuda
      </button>
    </div>
  </div>

  <!-- Added WhatsApp contacts screen -->
  <!-- Pantalla WhatsApp Contacts -->
  <div class="whatsapp-screen" *ngIf="mostrarWhatsApp">
    <div class="whatsapp-container">
      <div class="whatsapp-header">
        <h2 class="whatsapp-title">
          <svg class="icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
          </svg>
          ¡Ya Casi Terminamos!
        </h2>
        <p class="whatsapp-subtitle">
          Ahora puedes contactar directamente con nuestros especialistas a través de WhatsApp para recibir ayuda inmediata y personalizada.
        </p>
      </div>

      <div class="contacts-section">
        <p class="contacts-intro">
          Elige el <strong>especialista</strong> que mejor se adapte a tu situación. Ambos están capacitados para ayudarte de manera confidencial y profesional.
        </p>

        <div class="contacts-grid">
          <div class="contact-card" (click)="abrirWhatsApp('5215512345678', 'Hola, necesito ayuda y apoyo. He completado el formulario de Gritemos Ayuda.')">
            <div class="contact-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
              </svg>
            </div>
            <h3 class="contact-name">Psicóloga María</h3>
            <p class="contact-role">Especialista en Apoyo Emocional</p>
            <p class="contact-description">
              Experta en ayudar a niños y adolescentes a superar situaciones difíciles y encontrar soluciones.
            </p>
            <a href="#" class="whatsapp-button" (click)="abrirWhatsApp('5215512345678', 'Hola, necesito ayuda y apoyo. He completado el formulario de Gritemos Ayuda.')">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
              </svg>
              Chatear Ahora
            </a>
          </div>

          <div class="contact-card" (click)="abrirWhatsApp('5215587654321', 'Hola, necesito orientación y apoyo. He completado el formulario de Gritemos Ayuda.')">
            <div class="contact-icon">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/>
              </svg>
            </div>
            <h3 class="contact-name">Consejero Carlos</h3>
            <p class="contact-role">Especialista en Crisis y Orientación</p>
            <p class="contact-description">
              Especializado en situaciones de crisis y en brindar orientación práctica para resolver problemas.
            </p>
            <a href="#" class="whatsapp-button" (click)="abrirWhatsApp('5215587654321', 'Hola, necesito orientación y apoyo. He completado el formulario de Gritemos Ayuda.')">
              <svg viewBox="0 0 24 24" fill="currentColor">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893A11.821 11.821 0 0020.885 3.488"/>
              </svg>
              Chatear Ahora
            </a>
          </div>
        </div>
      </div>

      <div class="back-section">
        <button type="button" class="back-button" (click)="volverInicio()">
          <svg viewBox="0 0 24 24" fill="currentColor">
            <path d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/>
          </svg>
          Volver al Inicio
        </button>
      </div>
    </div>
  </div>
</div>
